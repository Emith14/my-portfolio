---
const { name } = Astro.props;
const key = (name || '').toLowerCase();
// Normalize key: keep only a-z and 0-9 to allow lookups like 'node.js' -> 'nodejs', 'raspberry pi' -> 'raspberrypi'
const normKey = key.replace(/[^a-z0-9]/g, '');

// Inline simplified SVGs for common techs. These are small, low-detail icons
// meant for badges. Add or modify icons as needed.
const svgs = {
  'javascript': `
    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#F7DF1E"/>
      <text x="24" y="32" text-anchor="middle" font-family="Inter, system-ui, Arial" font-weight="700" font-size="18" fill="#000">JS</text>
    </svg>
  `,
  'node.js': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3C873A" />
      <path d="M12 16l12-6 12 6v12l-12 6-12-6V16z" fill="#214E21" opacity="0.9"/>
    </svg>
  `,
  'nodejs': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3C873A" />
      <path d="M12 16l12-6 12 6v12l-12 6-12-6V16z" fill="#214E21" opacity="0.9"/>
    </svg>
  `,
  'laravel': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#FF2D20" />
      <path d="M14 18h20v4H26v6h-8v-10z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'angular': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#DD0031" />
      <path d="M24 12 10 16v16l14 6 14-6V16L24 12z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'mysql': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path fill="#00758F" d="M64.004 4C29.072 4 4 29.072 4 64.004c0 34.934 25.072 60.004 60.004 60.004 34.934 0 60.004-25.07 60.004-60.004C124.008 29.072 98.938 4 64.004 4zM64 108c-23.196 0-42-18.804-42-42S40.804 24 64 24s42 18.804 42 42-18.804 42-42 42z"/><path fill="#fff" d="M64 38c-14.36 0-26 7.163-26 16 0 2.926 1.297 5.671 3.612 8.041C47.61 68.01 54.579 74 64 74s16.39-5.99 22.388-11.959C88.703 59.671 90 56.926 90 54c0-8.837-11.64-16-26-16z" opacity="0.98"/></svg>
  `,
  'openai': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#111827" />
      <circle cx="24" cy="24" r="10" stroke="#00D8FF" stroke-width="2" fill="none"/>
    </svg>
  `,
  'digitalocean': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><defs><linearGradient id="a" x1="-10.47%" x2="83.77%" y1="18.68%" y2="82.91%"><stop offset="0%" stop-color="#008BCF"/><stop offset="100%" stop-color="#005EA6"/></linearGradient></defs><rect width="36" height="36" rx="6" fill="url(#a)"/><path fill="#fff" d="M18 8a8.5 8.5 0 018.5 8.5A8.5 8.5 0 018 16.5 8.5 8.5 0 0118 8z" opacity="0.95"/></svg>
  `,
  'cloudflare': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#F38020" />
      <path d="M14 30c2-6 8-10 14-10 4 0 7 2 9 4" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/>
    </svg>
  `
  , 'aw3s': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#FF9900" />
      <path d="M10 30c6 6 22 6 28 0" stroke="#000" stroke-width="2" fill="none" opacity="0.9"/>
    </svg>
  `
  , 'cloudflaree': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#F38020" />
      <path d="M14 30c2-6 8-10 14-10 4 0 7 2 9 4" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/>
    </svg>
  `
  , 'adonisjs': `
    <svg viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 64c0 51.617 12.383 64 64 64 51.617 0 64-12.383 64-64 0-51.617-12.383-64-64-64C12.383 0 0 12.383 0 64zm25.808 13.295l20.075-45.621C49.27 23.984 55.788 19.813 64 19.813c8.212 0 14.729 4.17 18.118 11.86l20.074 45.622c.912 2.216 1.694 5.084 1.694 7.56 0 11.34-7.951 19.291-19.292 19.291-3.862 0-6.93-.985-10.035-1.983-3.182-1.022-6.403-2.057-10.559-2.057-4.108 0-7.408 1.044-10.653 2.071-3.138.993-6.225 1.969-9.941 1.969-11.34 0-19.292-7.95-19.292-19.29 0-2.477.783-5.345 1.695-7.561zM64 39.625l-19.813 44.84c5.866-2.738 12.644-4.041 19.813-4.041 6.909 0 13.947 1.303 19.552 4.04L64 39.626z" fill="#5A45FF"/></svg>
  `
  , 'oauth2': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#6B7280" />
      <circle cx="24" cy="24" r="8" fill="#fff" opacity="0.12" />
      <text x="24" y="30" text-anchor="middle" font-family="Inter, system-ui, Arial" font-weight="700" font-size="12" fill="#fff">O</text>
    </svg>
  `
  , 'nfc': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0EA5A4" />
      <path d="M16 20h16v8H16z" fill="#fff" opacity="0.95"/>
    </svg>
  `
  , 'xcode': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0A84FF" />
      <path d="M16 20h16v8H16z" fill="#fff" opacity="0.95"/>
    </svg>
  `
  , 'androidstudio': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path fill="#073042" d="M51.3 17.7H23.2C17.6 17.7 13 22.3 13 28c-.2 5.5 4.2 10.1 9.7 10.3h28.9l-.3-20.6z"/><path fill="#4285F4" d="M115 109.3H23.2c-5.7 0-10.2-4.6-10.2-10.3V27.9c0 5.7 4.6 10.3 10.2 10.4h76.9s15-1.3 15 10v61z"/><path fill="#3870B2" d="M72.2 72.9C76.3 69.8 77.1 64 74 60c-1.7-2.2-4.3-3.6-7.1-3.7h.3c.5-.1 1.1-.1 1.6 0v-5.7c0-.7-.3-1.3-.9-1.6-.9-.5-2-.2-2.5.7-.2.3-.3.6-.2 1v5.8c-5 .8-8.5 5.5-7.7 10.6v.1c.4 2.4 1.7 4.6 3.7 6l-16.9 36.2h11l7.8-16.6c.9-2 3.3-2.9 5.4-1.9.8.4 1.5 1.1 1.9 1.9l8.1 16.6h11.2L72.2 72.9zm-5.7-1.6c-3.2 0-5.7-2.6-5.7-5.8 0-3.2 2.6-5.7 5.8-5.6 1.5 0 2.8.6 3.9 1.6 2.3 2.2 2.3 5.8.1 8.1-1 1-2.5 1.7-4.1 1.7z"/><path fill="#FFF" d="M45.2 22.7h39.4v7.2H45.2v-7.2z"/><path fill="#073042" d="M63.5 59.8c3.1 0 5.7 2.6 5.6 5.8 0 3.1-2.6 5.7-5.8 5.6-3.1 0-5.6-2.6-5.6-5.7 0-1.5.6-2.9 1.7-4s2.6-1.7 4.1-1.7zm2.2-3.3v-6c0-.7-.3-1.3-.9-1.6-.9-.5-2-.2-2.5.7-.2.3-.3.6-.2 1v5.8c-5 .8-8.5 5.5-7.7 10.6v.1c.4 2.4 1.7 4.6 3.7 6l-21.3 45.7c-.8 1.6-.7 3.6.4 5.1 1.6 2.3 4.7 2.9 7 1.3.8-.5 1.4-1.3 1.8-2.1l14.2-30.4c.9-2 3.3-2.9 5.4-1.9.8.4 1.5 1.1 1.9 1.9L82 122.8c1.2 2.5 4.2 3.5 6.7 2.3 2.5-1.2 3.5-4.2 2.3-6.7L69.1 72.9c4-3.2 4.7-9.1 1.5-13.1-1.2-1.6-2.9-2.7-4.9-3.3"/></svg>
  `
  , 'typescript': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#3178C6" />
      <text x="24" y="32" text-anchor="middle" font-family="Inter, system-ui, Arial" font-weight="700" font-size="16" fill="#fff">TS</text>
    </svg>
  `,
  'react': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#061826" />
      <g fill="none" stroke="#61DAFB" stroke-width="2" stroke-linecap="round">
        <ellipse cx="24" cy="24" rx="12" ry="6" transform="rotate(0 24 24)"/>
        <ellipse cx="24" cy="24" rx="12" ry="6" transform="rotate(60 24 24)"/>
        <ellipse cx="24" cy="24" rx="12" ry="6" transform="rotate(120 24 24)"/>
      </g>
      <circle cx="24" cy="24" r="2" fill="#61DAFB" />
    </svg>
  `,
  'tailwind': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0EA5A4" />
      <path d="M12 28c6 6 14-2 20-2" stroke="#fff" stroke-width="3" stroke-linecap="round" fill="none" opacity="0.95"/>
    </svg>
  `,
  'astro': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#0EA5A4" />
      <polygon points="24,12 30,34 18,34" fill="#021018" opacity="0.9"/>
    </svg>
  `,
  'docker': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><g fill="#2496ED"><path d="M77.6 42.8h11.3v11.5h5.7c2.6 0 5.3-.5 7.8-1.3 1.2-.4 2.6-1 3.8-1.7-1.6-2.1-2.4-4.7-2.6-7.3-.3-3.5.4-8.1 2.8-10.8l1.2-1.4 1.4 1.1c3.6 2.9 6.5 6.8 7.1 11.4 4.3-1.3 9.3-1 13.1 1.2l1.5.9-.8 1.6c-3.2 6.2-9.9 8.2-16.4 7.8-9.8 24.3-31 35.8-56.8 35.8-13.3 0-25.5-5-32.5-16.8l-.1-.2-1-2.1c-2.4-5.2-3.1-10.9-2.6-16.6l.2-1.7h9.6V42.8h11.3V31.6h22.5V20.3h13.5v22.5z"/></g><g fill="#00A8E6"><path d="M110.4 55.1c.8-5.9-3.6-10.5-6.4-12.7-3.1 3.6-3.6 13.2 1.3 17.2-2.8 2.4-8.5 4.7-14.5 4.7H18.6c-.6 6.2.5 11.9 3 16.8l.8 1.5c.5.9 1.1 1.7 1.7 2.6 3 .2 5.7.3 8.2.2 4.9-.1 8.9-.7 12-1.7.5-.2.9.1 1.1.5.2.5-.1.9-.5 1.1-.4.1-.8.3-1.3.4-2.4.7-5 1.1-8.3 1.3h-.6c-1.3.1-2.7.1-4.2.1-1.6 0-3.1 0-4.9-.1 6 6.8 15.4 10.8 27.2 10.8 25 0 46.2-11.1 55.5-35.9 6.7.7 13.1-1 16-6.7-4.5-2.7-10.5-1.8-13.9-.1z"/></g></svg>
  `,
  'electron': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <circle cx="24" cy="24" r="22" fill="#47848F"/>
      <g fill="#fff">
        <path d="M24 11c3 0 5 2 5 5s-2 5-5 5-5-2-5-5 2-5 5-5z"/>
        <path d="M24 30c6 0 11 3 11 6v1H13v-1c0-3 5-6 11-6z"/>
      </g>
    </svg>
  `,
  'python': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <rect width="48" height="48" rx="8" fill="#306998"/>
      <g fill="#FFD43B"><path d="M24 12c-6 0-10 4-10 8v3h20v-3c0-4-4-8-10-8z"/></g>
      <g fill="#4B8BBE"><path d="M24 36c6 0 10-4 10-8v-3H14v3c0 4 4 8 10 8z"/></g>
    </svg>
  `,
  'redis': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#D82C20" />
      <ellipse cx="24" cy="24" rx="10" ry="6" fill="#fff" opacity="0.9"/>
    </svg>
  `,
  'vue': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#35495E" />
      <path d="M12 16 24 34 36 16" stroke="#42b883" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M16 16 24 26 32 16" stroke="#35495E" stroke-width="3" fill="none" stroke-linecap="round"/>
    </svg>
  `,
  'svelte': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#FF3E00" />
      <path d="M14 18c6-6 14 0 20 0" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
    </svg>
  `
  , 'nestjs': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#E0234E" />
      <path d="M14 18h20v12L24 34 14 30V18z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'shopify': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#95BF47" />
      <path d="M18 12h12v20H18z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'raspberrypi': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#C72E2E" />
      <g transform="translate(8,6)">
        <path d="M16 6c6 0 10 5 10 10s-4 10-10 10S6 22 6 16 10 6 16 6z" fill="#FF3B3B"/>
        <circle cx="16" cy="14" r="1.2" fill="#FFF"/>
        <circle cx="12" cy="18" r="1.2" fill="#FFF"/>
        <circle cx="20" cy="18" r="1.2" fill="#FFF"/>
        <path d="M12 4c1.2-2 6-2 8 0-1 1.8-2 2-4 2s-3-1-4-2z" fill="#2ECC71"/>
      </g>
    </svg>
  `,
  'arduino': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#00979D" />
      <path d="M14 24h20v6H14z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'esp32': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#2D8CFF" />
      <path d="M12 18h24v12H12z" fill="#fff" opacity="0.9"/>
    </svg>
  `,
  'hostinger': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#FF6A00" />
      <path d="M16 20h16v8H16z" fill="#fff" opacity="0.95"/>
    </svg>
  `,
  'aws': `
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0%" x2="100%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FF9900"/><stop offset="100%" stop-color="#FF7E00"/></linearGradient></defs><rect width="64" height="64" rx="8" fill="url(#g)"/><path fill="#fff" d="M10 40c6 6 22 6 28 0 6-6 6-16 0-22-6-6-22-6-28 0-6 6-6 16 0 22z" opacity="0.9"/></svg>
  `,
  'vps': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#6B7280" />
      <rect x="12" y="16" width="24" height="16" fill="#fff" opacity="0.06"/>
    </svg>
  `,
  'sensors': `
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
      <rect width="48" height="48" rx="8" fill="#7C3AED" />
      <circle cx="24" cy="20" r="4" fill="#fff" opacity="0.95"/>
      <path d="M24 26v6" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
    </svg>
  `
};

// Add a few normalized aliases for keys that may include dots/spaces
const svg = ((svgs as any)[key] ?? (svgs as any)[normKey] ?? (svgs as any)[key.replace('.', '')]) ?? `
  <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <rect width="24" height="24" rx="4" fill="#3b82f6" />
    <text x="12" y="16" text-anchor="middle" font-size="10" fill="#fff">? </text>
  </svg>
`;
---

<span class="tech-icon" set:html={svg}></span>
